{"remainingRequest":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/samsonaligba/Sites/mulaa.co/src/views/Settings.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/samsonaligba/Sites/mulaa.co/src/views/Settings.vue","mtime":1579028418972},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.v-list .v-divider--inset:not(.v-divider--vertical){\n  max-width: 100% !important;\n  margin-left:0;\n}\n",{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAshBA;AACA;AACA;AACA","file":"Settings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"dashboard fill-height teal lighten-5 page pa-3 mt-10\">\n<div\nclass=\"headline lighten-4 pa-4 font-weight-light teal--text mb-n6 mt-5 mx-auto\"\nstyle=\"max-width:950px\"\n>\nHello, <br> {{user}}\n</div>\n <v-snackbar v-model=infoBar :timeout=\"10000\" top right :color=\"color\" :value=infoMsg>\n  <span style=\"color:#000028\">{{infoMsg}}</span>\n  <!--<v-btn flat color=\"white\" @click=\"snackbar = false\">close</v-btn>-->\n</v-snackbar>\n <v-container fluid fill-height teal lighten-5>\n    <v-layout row wrap equal center mx-auto style=\"max-width:950px;\">\n                <v-flex xs12 sm8 md7 pa-5>\n<v-card\nstyle=\"border-top-left-radius:15px;border-top-right-radius:15px;\"\nclass=\"my-5\"\noutlined\n>\n<v-card-title>\n      <span class=\"grey--text overline\">Business Profile</span>\n    </v-card-title>\n<v-list two-line subheader class=\"pa-3\">\n      <v-subheader>Profile Settings  \n        <div class=\"flex-grow-1\"></div>\n        <EditSettings :theuser=\"userDetails\" :user=\"user\" :userImg=\"this.userProfile.profileImg\"></EditSettings>\n        </v-subheader>\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"teal--text subtitle-1 text--darken-2 text-uppercase\">\n            <v-icon small color=\"teal\">mdi-account-card-details-outline</v-icon>\n            Business Name</v-list-item-title>\n          <v-list-item-subtitle class=\"caption\">{{userDetails.business_name}}</v-list-item-subtitle>\n        </v-list-item-content>\n        <v-list-item-action>\n          \n        </v-list-item-action>\n      </v-list-item>\n<v-divider inset></v-divider>\n      <v-list-item three-line>\n        <v-list-item-content>\n          <v-list-item-title class=\"teal--text subtitle-1 text--darken-2 text-uppercase\">\n            <v-icon small color=\"teal\">\n              mdi-domain\n              </v-icon>\n            Business Description</v-list-item-title>\n          <v-list-item-subtitle class=\"caption\">{{userDetails.business_description}}</v-list-item-subtitle>\n        </v-list-item-content>\n         <v-list-item-action>\n          \n        </v-list-item-action>\n      </v-list-item>\n<v-divider inset></v-divider>\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"teal--text subtitle-1 text--darken-2 text-uppercase\">\n             <v-icon small color=\"teal\">\n              mdi-map-marker\n              </v-icon>\n            Business Address\n            </v-list-item-title>\n          <v-list-item-subtitle class=\"caption\">{{userDetails.business_address}}</v-list-item-subtitle>\n        </v-list-item-content>\n        <v-list-item-action>\n          \n        </v-list-item-action>\n      </v-list-item>\n    </v-list>\n</v-card>\n\n\n  <v-card \n  outlined\n  class=\"my-5\"\n  >\n  <v-card-title>\n      <span class=\"font-weight-light grey--text overline\">Sales Profile</span>\n    </v-card-title>\n  <v-list two-line subheader class=\"pa-5\">\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"teal--text subtitle-1 text--darken-2 text-uppercase\">\n            <v-icon small color=\"teal\">\n              mdi-cash\n              </v-icon>\n            Payment Key</v-list-item-title>\n          <v-list-item-subtitle class=\"caption grey lighten-4 pa-3 mt-2\">{{userDetails.payment_key}}</v-list-item-subtitle>\n        </v-list-item-content>\n        \n      </v-list-item>\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"teal--text subtitle-1 text--darken-2 text-uppercase\">Facebook Pixel</v-list-item-title>\n          <v-list-item-subtitle class=\"caption grey lighten-4 pa-3 mt-2\">{{userDetails.facebook_pixel}}</v-list-item-subtitle>\n        </v-list-item-content>\n      </v-list-item>\n\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title\n          class=\"teal--text subtitle-1 text--darken-2\"\n          >Profile Photo</v-list-item-title>\n          <v-list-item-subtitle>\n          \n          </v-list-item-subtitle>\n        </v-list-item-content>\n\n        <v-list-item-avatar\n        tile\n        size=\"100\"\n      >\n       <input \naccept=\"image/png, image/jpeg, image/bmp\"\ntype=\"file\" \nstyle=\"display:none;\" \n@change=\"onFileChanged\"\nref=\"imageinput\"\n>\n<v-overlay \n:value=\"overlay\"\ndark\n:z-index=\"9999\">\n <v-progress-circular :value=\"progressValue\"></v-progress-circular>\n    </v-overlay>\n    <div class=\"text-center mb-5\">\n    <v-avatar color=\"#23d2aa\" @click=\"$refs.imageinput.click()\" width=\"70\" height=\"70\">\n      <img v-if=\"userProfile.profileImg !=null || undefined\" :src=\"userProfile.profileImg\" alt=\"avatar\">\n      <v-icon v-else dark>mdi-camera</v-icon>\n    </v-avatar>\n  </div>\n      </v-list-item-avatar>\n      </v-list-item>\n<v-divider inset></v-divider>\n<v-list-item>\n   <v-list-item-content>\n     <v-list-item-title\n          class=\"teal--text subtitle-1 text--darken-2 mb-1 text-uppercase\"\n          >\n          <v-icon small color=\"teal\">\n              mdi-settings\n              </v-icon>\n          Mulaa Widget\n          </v-list-item-title>\n          <v-list-item-subtitle class=\"caption mb-3\">\n            Embed your mulaa store on your own website/Wordpress\n            </v-list-item-subtitle>\n  <v-textarea\n          filled\n          name=\"input-7-4\"\n          :readonly=true\n          color=\"teal\"\n          label=\"Copy the code below\"\n          id=\"embed-code\"\n          class=\"small teal lighten-5\"\n          :value=\"embedcode\"\n        ></v-textarea>\n        <div class=\"my-1\">\n        <v-btn depressed small\n        class=\"white--text\"\n        color=\"#000028\"\n         @click.stop.prevent=\"copyEmbedCode\">Copy Code</v-btn>\n      </div>\n\n         </v-list-item-content>\n</v-list-item>\n    </v-list>\n  </v-card>\n \n                </v-flex>\n                <!-- right column-->\n                <v-flex flex xs12 md5 pa-5>\n<v-card\nstyle=\"border-top-left-radius:15px;border-top-right-radius:15px;\"\n outlined\n max-width=\"344\"\n  class=\"my-5 mx-auto\"\n>\n<v-card-title>\n      <span class=\"font-weight-light grey--text overline\">Mulaa Profile</span>\n    </v-card-title>\n\n    <v-card-text>\n       <v-sheet \n        class=\"pa-5\"\n        v-show=\"paid\"\n        color=\"blue lighten-5\"\n        style=\"border:3px dotted rgba(178, 223, 219, 0.3);\n                          border-radius:4px;\"\n        >\n        <p class=\"title text--grey\">\n        Active Subscription \n      </p>\n     \n      <div class=\"blue--text\">\n        You are subscribed to <strong>{{subName}}</strong>\n      </div>\n       \n        </v-sheet>\n\n        <v-sheet \n        class=\"pa-5\"\n        v-show=\"!paid\"\n        color=\"orange lighten-5\"\n        style=\"border:3px dotted rgba(178, 223, 219, 0.3);\n                          border-radius:4px;\"\n        >\n        <p class=\"title text--grey\">\n        No Subscription\n      </p>\n     \n      <div class=\"text--primary\">\n        Limited products are displayed on your mulaa link. To display all your products and access all mulaa premium benefits, upgrade to one of our subscription plans below.\n      </div>\n       \n        </v-sheet>\n\n        <div\n        v-show=\"!paid\"\n        >\n          <h3 \n          class=\"title text--accent-3 font-weight-light my-3\">\n            Choose a plan that works for you\n            </h3>\n<v-overlay :value=\"subOverlay\">\n      <v-progress-circular indeterminate size=\"84\"></v-progress-circular>\n    </v-overlay>\n\n          <v-sheet \n        class=\"pa-5\"\n        color=\"teal lighten-5\"\n        style=\"border:2px dotted rgba(178, 223, 219, 0.3) !important;border-radius:0px;\"\n        >\n        <span class=\"teal--text subtitle-1 text--darken-1\">\n          Annual Mogul: N54,000 <v-btn small color=\"success\"\n          :disabled=false\n          @click=\"doSubscription('PLN_g4m3pjhpsgb3u14')\"\n          >Subscribe</v-btn>\n        </span>\n      <div class=\"grey--text text--darken-2 mt-2\">\n        Unlimited products,\nUnlimited content links,\n0% transaction charge,\n12 months subscription (3 months free)\n      </div>\n       \n        </v-sheet>\n        <v-divider inset></v-divider>\n        <v-sheet \n        class=\"pa-5\"\n        color=\"teal lighten-5\"\n        style=\"border:2px dotted rgba(178, 223, 219, 0.3) !important;border-radius:0px;\"\n        >\n        <span class=\"teal--text subtitle-1 text--darken-1\">\n          Quarterly Sprinter: N15,000 <v-btn small color=\"success\"\n          :disabled=false\n          @click=\"doSubscription('PLN_xbwopoov59jncbi')\"\n          >Subscribe</v-btn>\n        </span>\n      <div class=\"text--darken-2 grey--text mt-2\">\n        Unlimited products,\nUnlimited content links,\n0% transaction charge,\n3 months subscription (pay Quarterly)\n      </div>\n       \n        </v-sheet>\n<v-divider inset></v-divider>\n        <v-sheet \n        class=\"pa-5\"\n        color=\"teal lighten-5\"\n        style=\"border:2px dotted rgba(178, 223, 219, 0.3) !important;border-radius:0px;\"\n        >\n        <span class=\"teal--text subtitle-1 text--darken-1\">\n          Monthly Starter: N6,000 <v-btn small color=\"success\"\n          :disabled=false\n          @click=\"doSubscription('PLN_pzvz7tl3qnrwbdh')\"\n          >Subscribe</v-btn>\n        </span>\n      <div class=\"text--darken-2 grey--text mt-2\">\n        Unlimited products,\nUnlimited content links,\n0% transaction charge,\n1 months subscription\n      </div>\n       \n        </v-sheet>\n<v-divider inset></v-divider>\n        <v-sheet \n        class=\"pa-5\"\n        color=\"teal lighten-5\"\n        style=\"border:2px dotted rgba(178, 223, 219, 0.3) !important;border-radius:0px;\"\n        >\n        <span class=\"teal--text subtitle-1 text--darken-1\">\n          Base Plan: N1,000 (x6) \n        </span><v-btn small color=\"success\"\n        :disabled=false\n        @click=\"doSubscription('PLN_n4bg3qza5v3va6r')\"\n        >Subscribe</v-btn>\n      <div class=\"text--darken-2 grey--text mt-2\">\n        Maximum 3 products\n content links\n1% transaction charge\nx6 <strong>(Six months subscription = NGN6,000)</strong>\n      </div>\n        </v-sheet>\n        </div>\n    </v-card-text>\n\n</v-card>\n                </v-flex>\n    </v-layout>\n         \n </v-container>\n    </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport Avatar from 'vue-avatar'\nimport EditSettings from '@/components/EditSettings'\nimport UserSubscribe from '@/components/Subscribe'\n\nimport axios from 'axios'\n\nexport default {\n  components: {\n    Avatar,\n     EditSettings,\n     UserSubscribe\n  },\n    data() {\n      return {\n        embedcode: `<div class=\"mulaa_embed\" data-src=\"https://mulaa.me/u/`+ this.$store.state.user +`\" style=\"height:400px;width:680px;margin: 10px auto\" data-responsive=\"true\" data-img=\"https://shop.mulaa.co/shop_cover.png\" data-css=\"background:url('//shop.mulaa.co/loading.gif') white center center no-repeat;border:0px;float:middle;\" data-Id=\"mulaa-sdk\" data-Class=\"mulaa-sdk\" data-name=\"mulaa.co\"></div>\n        `+'<script src=\"https://shop.mulaa.co/async-iframe.js\"',\n        paid: false,\n        subName: '',\n        skk: process.env.VUE_APP_SECRET_KEY,\n        subOverlay:false,\n        infoMsg: '', \n        infoBar: false,\n valid:'',\n  overlay: false,\n   progressValue:'',\n   plans: {\n     starter: 'PLN_pzvz7tl3qnrwbdh',\n     Active: 'PLN_xbwopoov59jncbi',\n     Leading: 'PLN_g4m3pjhpsgb3u14',\n     Base: 'PLN_n4bg3qza5v3va6r',\n   },\n  userProfile: \n            {\n                city:'',\n                phone:'',\n                validid: [],\n                profileImg: this.myProfileImg\n            },\n            userURL: 'https://mulaa.me/u/'+this.$store.state.user,\n      }\n    },\n     created() {\n        return this.fetchUserData()\n    },\n     methods: {\n       copyEmbedCode () {\n          let testingCodeToCopy = document.querySelector('#embed-code')\n          testingCodeToCopy.setAttribute('type', 'text')   \n          testingCodeToCopy.select()\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful';\n            alert('Embed code was copied ' + msg);\n          } catch (err) {\n            alert('Oops, unable to copy');\n          }\n\n          /* unselect the range */\n          testingCodeToCopy.setAttribute('type', 'hidden')\n          window.getSelection().removeAllRanges()\n        },\n       doSubscription(level){\n         //console.log(level)\n         this.subOverlay = !this.subOverlay\n         //let skey = 'sk_live_01952d79b3b14815af91d560256959358299e123'\nlet subData = {\nemail: this.userDetails.email,\namount: \"500\",\ncurrency: \"NGN\",\ncallback_url: \"http://shop.mulaa.co/settings/confirm\",\nplan:level\n}\nconsole.log(subData)\nconst options = {\n  headers: {'Authorization': 'Bearer '+this.skk}\n}\n         axios.post(`https://api.paystack.co/transaction/initialize`,\n           subData, options\n).then(resp => {\n            //console.log(resp.data)\n            if(resp.data.status == true){\n/*\nthis.$http.post('/subscription',\n{\n  title: resp.data.data.reference,\n  fields : {\n    trans_ref: resp.data.data.reference,\n    user: this.userDetails.email\n  },\n     status: \"publish\"\n}\n).then(response => {\nconsole.log('sub post: '+response.data)\nthis.loading = false\n})\n*/\n              this.subOverlay = false\n              //console.log('response: ' + JSON.stringify(resp.data.data))\n            window.location = resp.data.data.authorization_url\n            }\n            \n            }).catch(err => {\n              console.log(err)   \n          })\n\n       },\n        onFileChanged (event) {\n    this.userProfile.profileImg = event.target.files[0]\n    this.overlay = true\n    this.onUpload()\n  },\n  onUpload() {\n    // upload file\n    const formData = new FormData()\n    formData.append('avatar', this.userProfile.profileImg, this.userProfile.profileImg.name)\n    formData.append('username', this.user);\n\nconst headers2 = {\n  'Content-Type': 'multipart/form-data'\n}\n    //axios.post(`//dev.mulaa.co/imgapi/upload.php`, formData, {\n       axios.post(`https://shop.mulaa.co/imgapi/upload.php`, formData, {\n    headers: headers2,\n    onUploadProgress: progressEvent => {\n       this.progressValue = Math.round(progressEvent.loaded / progressEvent.total *100)\n      console.log(Math.round(progressEvent.loaded / progressEvent.total *100) + '%')\n    }\n  })\n    .then(resp => {\n           //console.log(resp.data.url)\n           this.userProfile.profileImg = resp.data.url\n            this.overlay = false\n            this.infoBar = true\n            this.infoMsg = 'profile image uploaded'\n            //resolve(resp)\n          })\n          .catch(err => {\n              console.log(err)\n              this.overlay = false\n              //this.infoBar = true\n              //this.infoMsg = 'profile image failed, try again'\n            //reject(err)\n          })\n  },\nfetchUserData(){\n        this.$store.dispatch('loadUserDetails', this.user)\n       // console.log(this.userDetails)\n    }\n     },\n     watch: {\n       userDetails(){\n         this.paid = true\n         this.subName = this.userDetails.subscription\n       }\n     },\n  computed: {\n        ...mapGetters([\n             'renderUser'\n           ]),\n      ...mapState({\n      registerMsg:'registerMsg',\n      color:'color',\n      show:'show',\n      loading:'loading',\n      user: 'user',\n      allProducts: 'allProducts',\n      myproducts:'myproducts',\n      Discounted:'Discounted',\n      userPhone: 'userPhone',\n       userDetails: 'userDetails',\n       userAcctStatus: 'userAcctStatus'\n      }),\n    userSales: {\n      get() {\n        return this.$store.state.userSales;\n      },\n      set(value) {\n        this.$store.commit('user_sales', value);\n      }\n    },\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('snackbar', value);\n      }\n    },\n    loading: {\n      get() {\n        return this.$store.state.loading;\n      },\n      set(value) {\n        this.$store.commit('loading', value);\n      }\n    },\n    salesCount: function(){\n      return Object.keys(this.userSales).length;\n    },\n    myProfileImg: {\n    get: function() {\n      //concat using template literal\n      return userDetails.brand_image \n    }\n  }\n    }\n}\n</script>\n<style>\n.v-list .v-divider--inset:not(.v-divider--vertical){\n  max-width: 100% !important;\n  margin-left:0;\n}\n</style>"]}]}