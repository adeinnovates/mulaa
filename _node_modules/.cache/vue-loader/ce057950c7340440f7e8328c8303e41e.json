{"remainingRequest":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/samsonaligba/Sites/mulaa.co/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/samsonaligba/Sites/mulaa.co/src/views/Register.vue","mtime":1576185592994},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapGetters } from 'vuex'\nimport axios from 'axios'\nexport default {\n    created(){\n      if(this.$store.getters.isLoggedIn=== true){\n       // this.$router.push('/') //this.$store.getters.isLoggedIn\n      }\n    },\n    computed: {\n      ...mapState([\n      'registerMsg',\n      'color',\n      'show',\n      'loading'\n    ]),\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('snackbar', value);\n      }\n    },\n    loading: {\n      get() {\n        return this.$store.state.loading;\n      },\n      set(value) {\n        this.$store.commit('loading', value);\n      }\n    }\n    },\n    mounted(){\n      //this.load();\n      //this.test();\n    },\n    methods: {\n      confirmed(){\nreturn this.$router.push({name: 'dashboard', params: { popWelcome: true }})\n      },\n      test(){\n        console.log(decodeURI('https:\\/\\/mulaa.me\\/u\\/randommmmm'))\n      },\n      login (user) {\n        this.loading = true;\n            this.$store\n              .dispatch(\"login\", user)\n              .then(() => this.$router.push({name: 'dashboard'})) //this.$router.push(\"/\")\n              .catch(err => {\n                this.loading = false\n                console.log(err)\n                }\n                );\n          },\n          register (userdets) {\n\n            if (this.$refs.form.validate() == true){\n            //console.log(this.$refs.form.validate())\n            \n            this.loading = true; \n            this.$store\n              .dispatch(\"register\", userdets).then(() => {\n                //this.$refs.form.reset()\n                console.log('done')\n                return this.newlogin (userdets)\n                })\n              .catch(err => {\n                this.loading = false\n                console.log(err)\n              });   \n          }\n          },\n          newlogin (user) {\n        this.loading = true;\n        //console.log(JSON.stringify(user))\n        \n        const userUnik = user.username\n        const priUrl = 'https://shop.mulaa.co/u/'+userUnik\n        //user.username\n         /* axios.get('https://mulaa.me/u/api/?key=P1fjdH02F3y2&url='+priUrl+'&custom='+userUnik)\n          .then(resp => {\n          \n            console.log(resp.short);\n            //this.loading = false;\n          }).catch(err => {\n                this.loading = false\n                console.log(err)\n                }\n              );\n        */\n            this.$store\n              .dispatch(\"login\", user)\n              .then(\n                () => {\n                  //this.loading = false\n                  axios.get('https://mulaa.me/u/api/?key=P1fjdH02F3y2&url='+priUrl+'&custom='+userUnik)\n                  //this.confirmation = true\n                  const useridVal = this.$store.state.userId\n                  //console.log(localStorage.getItem('token'))\n//console.log(useridVal)\n//console.log('referred by :'+this.referralName)\n\nconst options = {\n            headers: {'Authorization': 'Bearer '+localStorage.getItem('token')}\n            }\n           \n           if(this.referralName !=''){\n//this.$http.put\n                axios.post('https://shop.mulaa.co/api/wp-json/wp/v2/users/'+useridVal, {\n                title: '',\n                content: '',\n                fields : {\n                referal: this.referralName,\n                },\n                 status: \"publish\"\n            }, options)\n            .then(resp => {\n this.loading = false\nthis.confirmation = true\n            })\n           }else{\nthis.loading = false\nthis.confirmation = true\n           }\n                  //return this.$router.push({name: 'dashboard', params: { popWelcome: true }})//{name: 'dashboard', params: { sheet: true }}\n                  }\n                ) //this.$router.push(\"/\")\n              .catch(err => {\n                this.loading = false\n                console.log(err)\n                }\n              ); \n          },\n          sellerId (value) {\n            const letters = /^[a-z]+$/;\n            return letters.test(value)\n          }\n        \n    },\n    data() {\n      return {\n        usertip: false,\n        confirmation: false,\n        usernameraw:'',\n        user:{\n          username: '',\n          password: ''\n        },\n        userCred:\n            {\n                username: this.$route.query.storename || '',\n                email:'',\n                password:'',\n                /*\"roles\": [\n                  \"author\"\n                ]*/\n            },\n            referralName: this.$route.query.ref || '',\n            theme: 'dark-theme',\n            valid: false,\n        show1: false,\n        show2: false,\n        /*show: false,\n        snackbar: false,*/\n        emailRules: [\n        v => !!v || 'E-mail is required',\n        v => /.+@.+/.test(v) || 'E-mail must be valid'\n      ],\n       nameRules: [\n        (v)=> /^[a-z0-9]+$/.test(v) || 'lowercase only, no space allowed',\n      (v) => !!v || 'Name is required',\n      (v) => v && v.length <= 20 || 'Name must be less than 20 characters'\n    ],\n    nurules: {\n          required: value => !!value || 'Required.',\n          min: v => v.length >= 6 || 'Min 6 characters'\n        }\n      }\n    }\n}\n",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"register\">\n <v-content>\n  <v-container fluid pa-1>\n    <v-layout row wrap align-center=\"align-center\" justify-center=\"justify-center\" pa-5>\n      <v-flex xs12 sm4 id=\"sign-in-text-wrapper\" text-xs-center px-5>\n        <div class=\"headline font-weight-light text-center my-5\" v-if=\"!show2\">\n          Sign Up</div>\n            <div class=\"headline font-weight-light text-center my-2\" v-else>\n             Welcome Back\n            </div>\n            <div>\n                 <p v-if=\" !show2 \" class=\"body-2 teal--text text--lighten-3 text-capitalize text-center\">Already have an account? <span @click=\"show2 = true\" style=\"cursor: pointer;text-decoration:underline\">Login</span></p>\n  <p v-else class=\"body-2 teal--text text--lighten-3 text-capitalize text-center\">Don't have an account? <span @click=\"show2 = false\" style=\"cursor: pointer;text-decoration:underline\">Register here</span></p>\n            </div>\n            <v-snackbar v-model=snackbar :timeout=\"10000\" top right :color=\"color\" :value=registerMsg>\n  <span>{{registerMsg}}</span>\n  <!--<v-btn flat color=\"white\" @click=\"snackbar = false\">close</v-btn>-->\n</v-snackbar>\n<v-card\n    max-width=\"454\"\n    class=\"mx-auto extra-round pa-4\"\n    elevation=3\n    light=\"light\"\n    :loading=\"loading\"\n  >\n    <v-card-title class=\"caption text-center d-block py-5\" v-if=\"!show2\">\n     <v-row\n      justify=\"space-around\"\n    >\n    <v-col\n        class=\"text-center\"\n        cols=\"12\"\n      >\n <v-icon class=\"teal--text\">mdi-account-key-outline</v-icon>\n    </v-col>\n     </v-row>\n        <p class=\"text-center title teal--text font-weight-light\">\n          \n          Your one link, multiple products, sell better, starts below</p>\n    </v-card-title>\n    <v-card-title class=\"body-2 text-capitalize text-center d-block py-5\" v-else>\n      Sign in <br>\n       <p class=\"text-center caption teal--text font-weight-light\">\n      Enable more sales in less time\n</p>\n    </v-card-title>\n    <v-card-text>\n      <v-layout column align-center justify-center pa-0>\n      <v-form \n      ref=\"form\"\n      v-model=\"valid\"\n      >\n<v-flex xs12 class=\"form-wrapper\" v-show=\"!show2\"><!-- :rules=\"nameRules\" [nurules.required, nurules.min]-->\n\n<v-tooltip v-model=\"usertip\" top>\n            <template v-slot:activator=\"{ on }\">\n            <v-text-field\n              filled\n              full-width\n              single-line\n             v-model=\"userCred.username\"\n              label=\"Username\"\n              :rules=\"nameRules\"\n              hint=\"This will be your store link (USERNAME.mulaa.store) a-z no spaces allowed\"\n            persistent-hint\n              background-color=\"#f4f8f7\"\n              class=\"teal--text form-field mb-5\"\n              prepend-inner-icon=\"mdi-account-outline\"\n              :append-icon=\"usertip ? 'mdi-alert-circle-check' : 'mdi-alert-circle'\"\n              @click:append=\"usertip = !usertip\"\n\n            ></v-text-field>\n </template>\n            <span>choose preferred username, only letters no space</span>\n          </v-tooltip>\n\n            <v-text-field\n              filled\n              full-width\n              single-line\n              :rules=\"emailRules\"\n                            label=\"Email\"\n                            v-model=\"userCred.email\"\n              background-color=\"#f4f8f7\"\n              color=\"grey darken-2\"\n              prepend-inner-icon=\"mdi-email-outline\"\n            ></v-text-field>\n            \n            <v-text-field\n              v-model=\"userCred.password\"\n              :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n              :type=\"show1 ? 'text' : 'password'\"\n              filled\n              full-width\n              single-line\n              label=\"Password\"\n              background-color=\"#f4f8f7\"\n              color=\"grey darken-2\"\n              prepend-inner-icon=\"mdi-lock-outline\"\n              @click:append=\"show1 = !show1\"\n            ></v-text-field>\n          </v-flex>\n\n          <!-- login form -->\n\n          <v-flex xs12 class=\"form-wrapper mt-5\" v-show=\"show2\">\n            <v-text-field\n              filled\n              full-width\n              single-line\n             v-model=\"user.username\"\n              label=\"username\"\n              background-color=\"#f4f8f7\"\n              class=\"teal--text form-field\"\n              prepend-inner-icon=\"mdi-account-outline\" mb-0\n            ></v-text-field>\n            <v-text-field\n              v-model=\"user.password\"\n              :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n              :type=\"show1 ? 'text' : 'password'\"\n              filled\n              full-width\n              single-line\n              label=\"Password\"\n              background-color=\"#f4f8f7\"\n              color=\"grey darken-2\"\n              prepend-inner-icon=\"mdi-lock-outline\"\n              @click:append=\"show1 = !show1\"\n            ></v-text-field>\n        \n          </v-flex>\n\n        </v-form>\n      </v-layout>\n      </v-card-text>\n    <v-card-actions class=\"pa-2 align-center\">\n      <v-btn \n      large ripple\n       class=\"ml-10 px-5 mb-5 text teal--text\" \n      color=\"#23d2aa\" \n      @click=\"register(userCred)\"\n      :loading=\"loading\" v-show=\"!show2\">\n      <span class=\"caption px-5\">Sign Up</span>\n      </v-btn>\n\n       <v-btn \n             large ripple\n             class=\"px-5 mb-5 text teal--text\" \n      color=\"#23d2aa\" \n            id=\"sign-in\"\n            @click=\"login(user)\"\n          :loading=\"loading\" v-show=\"show2\"><span class=\"caption px-5\">Login</span></v-btn>\n\n    </v-card-actions>\n\n<v-card-actions v-show=\"!show2\">\n<p\nclass=\"caption d-block\"\nstyle=\"font-size: 0.875rem;\nline-height: 1.375rem;\nletter-spacing: 0.0071428571em;\ncolor: rgba(0, 0, 0, 0.54);\n\"\n>\nBy using mulaa.co, you agree to our  <a href=\"https://mulaa.co/go/terms-of-service\" target=\"_blank\"><span style=\"cursor: pointer;text-decoration:underline\">terms</span></a> and you're not selling something on our prohibited list.\n</p>\n</v-card-actions>\n\n    <v-card-actions v-show=\"show2\">\n <p\n style=\"font-size: 0.875rem;\n    line-height: 1.375rem;\n    letter-spacing: 0.0071428571em;\n    color: rgba(0, 0, 0, 0.54);\n    \"\n >\n            \n              Forgot password? <a href=\"https://shop.mulaa.co/api/forgot-password/\" target=\"_blank\"><span style=\"cursor: pointer;text-decoration:underline\">Reset password</span></a></p>\n    </v-card-actions>\n\n  </v-card>\n\n\n\n<v-overlay \n:value=\"confirmation\"\n:opacity=\"0.9\"\n>\n<v-layout row wrap mx-auto>\n  <v-flex xs10 sm9 md9 lg9>\n<div class=\"headline font-weight-light\"></div>\n  </v-flex>\n <v-flex xs2 sm3 md3 lg3 text-right>\n    <v-btn\nicon\n@click=\"confirmation = false\"\n>\n<v-icon right>mdi-close</v-icon>\n</v-btn>\n  </v-flex>\n</v-layout>\n\n<v-layout row wrap mx-auto>\n  <v-flex>\n<v-card\n    class=\"mx-auto\"\n    max-width=\"344\"\n    outlined\n    color=\"#23d2aa\"\n  >\n  <v-card-text class=\"pa-10 deep-purple--text text--darken-4\">\n  <h2 class=\"title mb-3\">\n    Thank You for Signing Up! <br>\n\nCheck the confirmation email at {{this.userCred.email}}\n  </h2>\n  <p>\n    <strong> Note:</strong> If you do not receive the email in few minutes:\n  </p>\n  <ul>\n    <li>\n      check spam folder (and move email to inbox)\n    </li>\n    <li>\n      verify if you typed your email correctly\n    </li>\n    <li>\n      if you can't resolve the issue, please contact team@mulaa.co\n    </li>\n  </ul>\n\n  <div class=\"text-cente\">\n<v-btn class=\"caption my-5\" x-large color=\"#000028\" href=\"/\"\n>\n<v-icon small left>mdi-chevron-right</v-icon>\nContinue to Login\n</v-btn>\n</div>\n  </v-card-text>\n</v-card>\n  </v-flex>\n</v-layout>\n\n\n</v-overlay>\n\n<v-row justify=\"center\"> \n           <p class=\"caption text--grey my-5\" style=\"margin: 0 auto\">\n<img :src=\"require('../assets/mulaalogo-white.png')\" alt=\"\" style=\"max-width:100px;\">\n           </p>\n        \n       </v-row>\n</v-flex>\n\n    </v-layout>\n  </v-container>\n    </v-content>\n    \n  </div>\n</template>\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport axios from 'axios'\nexport default {\n    created(){\n      if(this.$store.getters.isLoggedIn=== true){\n       // this.$router.push('/') //this.$store.getters.isLoggedIn\n      }\n    },\n    computed: {\n      ...mapState([\n      'registerMsg',\n      'color',\n      'show',\n      'loading'\n    ]),\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('snackbar', value);\n      }\n    },\n    loading: {\n      get() {\n        return this.$store.state.loading;\n      },\n      set(value) {\n        this.$store.commit('loading', value);\n      }\n    }\n    },\n    mounted(){\n      //this.load();\n      //this.test();\n    },\n    methods: {\n      confirmed(){\nreturn this.$router.push({name: 'dashboard', params: { popWelcome: true }})\n      },\n      test(){\n        console.log(decodeURI('https:\\/\\/mulaa.me\\/u\\/randommmmm'))\n      },\n      login (user) {\n        this.loading = true;\n            this.$store\n              .dispatch(\"login\", user)\n              .then(() => this.$router.push({name: 'dashboard'})) //this.$router.push(\"/\")\n              .catch(err => {\n                this.loading = false\n                console.log(err)\n                }\n                );\n          },\n          register (userdets) {\n\n            if (this.$refs.form.validate() == true){\n            //console.log(this.$refs.form.validate())\n            \n            this.loading = true; \n            this.$store\n              .dispatch(\"register\", userdets).then(() => {\n                //this.$refs.form.reset()\n                console.log('done')\n                return this.newlogin (userdets)\n                })\n              .catch(err => {\n                this.loading = false\n                console.log(err)\n              });   \n          }\n          },\n          newlogin (user) {\n        this.loading = true;\n        //console.log(JSON.stringify(user))\n        \n        const userUnik = user.username\n        const priUrl = 'https://shop.mulaa.co/u/'+userUnik\n        //user.username\n         /* axios.get('https://mulaa.me/u/api/?key=P1fjdH02F3y2&url='+priUrl+'&custom='+userUnik)\n          .then(resp => {\n          \n            console.log(resp.short);\n            //this.loading = false;\n          }).catch(err => {\n                this.loading = false\n                console.log(err)\n                }\n              );\n        */\n            this.$store\n              .dispatch(\"login\", user)\n              .then(\n                () => {\n                  //this.loading = false\n                  axios.get('https://mulaa.me/u/api/?key=P1fjdH02F3y2&url='+priUrl+'&custom='+userUnik)\n                  //this.confirmation = true\n                  const useridVal = this.$store.state.userId\n                  //console.log(localStorage.getItem('token'))\n//console.log(useridVal)\n//console.log('referred by :'+this.referralName)\n\nconst options = {\n            headers: {'Authorization': 'Bearer '+localStorage.getItem('token')}\n            }\n           \n           if(this.referralName !=''){\n//this.$http.put\n                axios.post('https://shop.mulaa.co/api/wp-json/wp/v2/users/'+useridVal, {\n                title: '',\n                content: '',\n                fields : {\n                referal: this.referralName,\n                },\n                 status: \"publish\"\n            }, options)\n            .then(resp => {\n this.loading = false\nthis.confirmation = true\n            })\n           }else{\nthis.loading = false\nthis.confirmation = true\n           }\n                  //return this.$router.push({name: 'dashboard', params: { popWelcome: true }})//{name: 'dashboard', params: { sheet: true }}\n                  }\n                ) //this.$router.push(\"/\")\n              .catch(err => {\n                this.loading = false\n                console.log(err)\n                }\n              ); \n          },\n          sellerId (value) {\n            const letters = /^[a-z]+$/;\n            return letters.test(value)\n          }\n        \n    },\n    data() {\n      return {\n        usertip: false,\n        confirmation: false,\n        usernameraw:'',\n        user:{\n          username: '',\n          password: ''\n        },\n        userCred:\n            {\n                username: this.$route.query.storename || '',\n                email:'',\n                password:'',\n                /*\"roles\": [\n                  \"author\"\n                ]*/\n            },\n            referralName: this.$route.query.ref || '',\n            theme: 'dark-theme',\n            valid: false,\n        show1: false,\n        show2: false,\n        /*show: false,\n        snackbar: false,*/\n        emailRules: [\n        v => !!v || 'E-mail is required',\n        v => /.+@.+/.test(v) || 'E-mail must be valid'\n      ],\n       nameRules: [\n        (v)=> /^[a-z0-9]+$/.test(v) || 'lowercase only, no space allowed',\n      (v) => !!v || 'Name is required',\n      (v) => v && v.length <= 20 || 'Name must be less than 20 characters'\n    ],\n    nurules: {\n          required: value => !!value || 'Required.',\n          min: v => v.length >= 6 || 'Min 6 characters'\n        }\n      }\n    }\n}\n</script>\n\n<style>\n    .dark-theme{\n  background: #000028 !important;\n  color: #fff;\n}  \n@media (min-width: 970px){\n    #sign-in-text-wrapper{\n        height:100vh;\n    }\n    }\n</style>"]}]}