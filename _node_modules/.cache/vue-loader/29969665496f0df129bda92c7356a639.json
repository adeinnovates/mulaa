{"remainingRequest":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/samsonaligba/Sites/mulaa.co/src/views/Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/samsonaligba/Sites/mulaa.co/src/views/Settings.vue","mtime":1570745383550},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapGetters } from 'vuex'\nimport Avatar from 'vue-avatar'\nimport EditSettings from '@/components/EditSettings'\nimport axios from 'axios'\n\nexport default {\n  components: {\n    Avatar,\n     EditSettings,\n  },\n    data() {\n      return {\n         infoMsg: '', \n        infoBar: false,\n valid:'',\n  overlay: false,\n   progressValue:'',\n  userProfile: \n            {\n                city:'',\n                phone:'',\n                validid: [],\n                profileImg: this.myProfileImg\n            },\n      }\n    },\n     created() {\n        return this.fetchUserData()\n    },\n     methods: {\n        onFileChanged (event) {\n    this.userProfile.profileImg = event.target.files[0]\n    this.overlay = true\n    this.onUpload()\n  },\n  onUpload() {\n    // upload file\n    const formData = new FormData()\n    formData.append('avatar', this.userProfile.profileImg, this.userProfile.profileImg.name)\n    formData.append('username', this.user);\n\nconst headers2 = {\n  'Content-Type': 'multipart/form-data'\n}\n    //axios.post(`//dev.mulaa.co/imgapi/upload.php`, formData, {\n       axios.post(`https://shop.mulaa.co/imgapi/upload.php`, formData, {\n    headers: headers2,\n    onUploadProgress: progressEvent => {\n       this.progressValue = Math.round(progressEvent.loaded / progressEvent.total *100)\n      console.log(Math.round(progressEvent.loaded / progressEvent.total *100) + '%')\n    }\n  })\n    .then(resp => {\n           console.log(resp.data.url)\n           this.userProfile.profileImg = resp.data.url\n            this.overlay = false\n            this.infoBar = true\n            this.infoMsg = 'profile image uploaded'\n            //resolve(resp)\n          })\n          .catch(err => {\n              console.log(err)\n              this.overlay = false\n              //this.infoBar = true\n              //this.infoMsg = 'profile image failed, try again'\n            //reject(err)\n          })\n  },\nfetchUserData(){\n        this.$store.dispatch('loadUserDetails', this.user)\n        //console.log(userDetails)\n    }\n     },\n  computed: {\n        ...mapGetters([\n             'renderUser'\n           ]),\n      ...mapState({\n      registerMsg:'registerMsg',\n      color:'color',\n      show:'show',\n      loading:'loading',\n      user: 'user',\n      allProducts: 'allProducts',\n      myproducts:'myproducts',\n      Discounted:'Discounted',\n      userPhone: 'userPhone',\n       userDetails: 'userDetails',\n       userAcctStatus: 'userAcctStatus'\n      }),\n    userSales: {\n      get() {\n        return this.$store.state.userSales;\n      },\n      set(value) {\n        this.$store.commit('user_sales', value);\n      }\n    },\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('snackbar', value);\n      }\n    },\n    loading: {\n      get() {\n        return this.$store.state.loading;\n      },\n      set(value) {\n        this.$store.commit('loading', value);\n      }\n    },\n    salesCount: function(){\n      return Object.keys(this.userSales).length;\n    },\n    myProfileImg: {\n    get: function() {\n      //concat using template literal\n      return userDetails.brand_image \n    }\n  }\n    }\n}\n",{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Settings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"dashboard fill-height teal lighten-5 page pa-3 mt-10\">\n\n<div\nclass=\"headline lighten-4 pa-4 font-weight-light teal--text mb-n6\"\n>\nHello, <br> {{user}}\n</div>\n <v-snackbar v-model=infoBar :timeout=\"10000\" top right :color=\"color\" :value=infoMsg>\n  <span style=\"color:#000028\">{{infoMsg}}</span>\n  <!--<v-btn flat color=\"white\" @click=\"snackbar = false\">close</v-btn>-->\n</v-snackbar>\n <v-container fluid fill-height teal lighten-5>\n             <v-layout row wrap equal>\n                <v-flex xs12 sm8 md7 pa-5>\n\n<v-list two-line subheader class=\"pa-3\" style=\"border-top-left-radius:15px;border-top-right-radius:15px;\">\n      <v-subheader>Profile Settings  \n        <div class=\"flex-grow-1\"></div>\n        <EditSettings :theuser=\"userDetails\" :user=\"user\" :userImg=\"this.userProfile.profileImg\"></EditSettings>\n        </v-subheader>\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"grey--text caption text--darken-2\">\n            <v-icon small color=\"grey\">mdi-account-card-details-outline</v-icon>\n            Business Name</v-list-item-title>\n          <v-list-item-subtitle class=\"caption\">{{userDetails.business_name}}</v-list-item-subtitle>\n        </v-list-item-content>\n        <v-list-item-action>\n          \n        </v-list-item-action>\n      </v-list-item>\n<v-divider inset></v-divider>\n      <v-list-item three-line>\n        <v-list-item-content>\n          <v-list-item-title class=\"grey--text caption text--darken-2\">\n            <v-icon small color=\"grey\">\n              mdi-domain\n              </v-icon>\n            Business Description</v-list-item-title>\n          <v-list-item-subtitle class=\"caption\">{{userDetails.business_description}}</v-list-item-subtitle>\n        </v-list-item-content>\n         <v-list-item-action>\n          \n        </v-list-item-action>\n      </v-list-item>\n<v-divider inset></v-divider>\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"grey--text caption text--darken-2\">\n             <v-icon small color=\"grey\">\n              mdi-map-marker\n              </v-icon>\n            Business Address\n            </v-list-item-title>\n          <v-list-item-subtitle class=\"caption\">{{userDetails.business_address}}</v-list-item-subtitle>\n        </v-list-item-content>\n        <v-list-item-action>\n          \n        </v-list-item-action>\n      </v-list-item>\n    </v-list>\n\n    \n\n    <v-divider></v-divider>\n\n\n    <v-list two-line subheader class=\"pa-5\">\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"grey--text caption text--darken-2\">\n            <v-icon small color=\"grey\">\n              mdi-cash\n              </v-icon>\n            Payment Key</v-list-item-title>\n          <v-list-item-subtitle class=\"caption grey lighten-4 pa-3 mt-2\">{{userDetails.payment_key}}</v-list-item-subtitle>\n        </v-list-item-content>\n        \n      </v-list-item>\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"grey--text caption text--darken-2\">Facebook Pixel</v-list-item-title>\n          <v-list-item-subtitle class=\"caption grey lighten-4 pa-3 mt-2\">{{userDetails.facebook_pixel}}</v-list-item-subtitle>\n        </v-list-item-content>\n      </v-list-item>\n\n\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title\n          class=\"grey--text caption text--darken-2\"\n          >Profile Photo</v-list-item-title>\n          <v-list-item-subtitle>\n          \n          </v-list-item-subtitle>\n        </v-list-item-content>\n\n        <v-list-item-avatar\n        tile\n        size=\"100\"\n      >\n       <input \naccept=\"image/png, image/jpeg, image/bmp\"\ntype=\"file\" \nstyle=\"display:none;\" \n@change=\"onFileChanged\"\nref=\"imageinput\"\n>\n<v-overlay \n:value=\"overlay\"\ndark\n:z-index=\"9999\">\n <v-progress-circular :value=\"progressValue\"></v-progress-circular>\n    </v-overlay>\n    <div class=\"text-center mb-5\">\n    <v-avatar color=\"#23d2aa\" @click=\"$refs.imageinput.click()\" width=\"70\" height=\"70\">\n      <img v-if=\"userProfile.profileImg !=null || undefined\" :src=\"userProfile.profileImg\" alt=\"avatar\">\n      <v-icon v-else dark>mdi-camera</v-icon>\n    </v-avatar>\n  </div>\n      </v-list-item-avatar>\n      </v-list-item>\n\n    </v-list>\n                </v-flex>\n             </v-layout>\n </v-container>\n    </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport Avatar from 'vue-avatar'\nimport EditSettings from '@/components/EditSettings'\nimport axios from 'axios'\n\nexport default {\n  components: {\n    Avatar,\n     EditSettings,\n  },\n    data() {\n      return {\n         infoMsg: '', \n        infoBar: false,\n valid:'',\n  overlay: false,\n   progressValue:'',\n  userProfile: \n            {\n                city:'',\n                phone:'',\n                validid: [],\n                profileImg: this.myProfileImg\n            },\n      }\n    },\n     created() {\n        return this.fetchUserData()\n    },\n     methods: {\n        onFileChanged (event) {\n    this.userProfile.profileImg = event.target.files[0]\n    this.overlay = true\n    this.onUpload()\n  },\n  onUpload() {\n    // upload file\n    const formData = new FormData()\n    formData.append('avatar', this.userProfile.profileImg, this.userProfile.profileImg.name)\n    formData.append('username', this.user);\n\nconst headers2 = {\n  'Content-Type': 'multipart/form-data'\n}\n    //axios.post(`//dev.mulaa.co/imgapi/upload.php`, formData, {\n       axios.post(`https://shop.mulaa.co/imgapi/upload.php`, formData, {\n    headers: headers2,\n    onUploadProgress: progressEvent => {\n       this.progressValue = Math.round(progressEvent.loaded / progressEvent.total *100)\n      console.log(Math.round(progressEvent.loaded / progressEvent.total *100) + '%')\n    }\n  })\n    .then(resp => {\n           console.log(resp.data.url)\n           this.userProfile.profileImg = resp.data.url\n            this.overlay = false\n            this.infoBar = true\n            this.infoMsg = 'profile image uploaded'\n            //resolve(resp)\n          })\n          .catch(err => {\n              console.log(err)\n              this.overlay = false\n              //this.infoBar = true\n              //this.infoMsg = 'profile image failed, try again'\n            //reject(err)\n          })\n  },\nfetchUserData(){\n        this.$store.dispatch('loadUserDetails', this.user)\n        //console.log(userDetails)\n    }\n     },\n  computed: {\n        ...mapGetters([\n             'renderUser'\n           ]),\n      ...mapState({\n      registerMsg:'registerMsg',\n      color:'color',\n      show:'show',\n      loading:'loading',\n      user: 'user',\n      allProducts: 'allProducts',\n      myproducts:'myproducts',\n      Discounted:'Discounted',\n      userPhone: 'userPhone',\n       userDetails: 'userDetails',\n       userAcctStatus: 'userAcctStatus'\n      }),\n    userSales: {\n      get() {\n        return this.$store.state.userSales;\n      },\n      set(value) {\n        this.$store.commit('user_sales', value);\n      }\n    },\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('snackbar', value);\n      }\n    },\n    loading: {\n      get() {\n        return this.$store.state.loading;\n      },\n      set(value) {\n        this.$store.commit('loading', value);\n      }\n    },\n    salesCount: function(){\n      return Object.keys(this.userSales).length;\n    },\n    myProfileImg: {\n    get: function() {\n      //concat using template literal\n      return userDetails.brand_image \n    }\n  }\n    }\n}\n</script>\n<style>\n.v-list .v-divider--inset:not(.v-divider--vertical){\n  max-width: 100% !important;\n  margin-left:0;\n}\n</style>"]}]}