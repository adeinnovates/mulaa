{"remainingRequest":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/samsonaligba/Sites/mulaa.co/src/views/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/samsonaligba/Sites/mulaa.co/src/views/User.vue","mtime":1571983862174},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapGetters } from 'vuex'\nimport Buy from '@/components/BuyProduct'\nimport Avatar from 'vue-avatar'\nexport default {\n  metaInfo() {\n    let pageTitle = this.name\n    return {\n      title: pageTitle ? pageTitle : this.getMerchant,\n      titleTemplate: '%s - mulaa.co',\n      htmlAttrs: {\n        lang: 'en',\n        amp: true\n      },\n      \n      meta: [\n     {property: 'og:title', content: this.getMerchant},\n     {property: 'og:type', content: this.getMerchantInfo.business_name},\n     {property: 'og:url', content: this.pagePath},\n     {property: 'og:image', content: this.getMerchantInfo.brand_image},\n     {property: 'og:description', content: this.getMerchantInfo.business_description},\n      ]\n    }\n    },\n    components: {\n       Avatar\n       // Buy\n  },\n  props: ['name','theproducts']\n   /* props: {\n       name: {\n            type: String,\n            default: 'No User Found'\n        },\n\n    }*/,\n     data(){\n        return{\n          inputs: [\n            {\n                name: ''\n            }\n        ],\n            search:'',\n            overlay:false,\n            userdata: this.$route.params.name,\n            dialog: false,\n            rules: [v => v.length <= 50 || 'Max 50 characters'],\n            uploadMsg: '',\n            infoBar: false,\n            infoMsg: '', \n            products: '',\n            bizPhone: '',\n            merchantName : '',\n            instagram: 'https://instagram.com/',\n            pagePath: 'https://shop.mulaa.co'+ this.$route.path\n        }\n    },\n    computed: {\n        ...mapGetters([\n             'renderUser'\n           ]),\n      ...mapState({\n          emptyStore: 'emptyStore',\n      registerMsg:'registerMsg',\n      color:'color',\n      show:'show',\n      loading:'loading',\n      user:'user',\n      userDesc:'userDesc',\n      userKey:'userKey',\n      userBusiness:'userBusiness',\n      userPhone:'userPhone',\n      myproducts:'myproducts',\n      userProducts:'userProducts',\n      Discounted:'Discounted',\n      userUrl:'userUrl',\n      userImage:'userImage',\n      userDetails: 'userDetails',\n      userLinks: 'userLinks',\n      emptyLinks:'emptyLinks'\n      }),\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('snackbar', value);\n      }\n    },\n    loading: {\n      get() {\n        return this.$store.state.loading;\n      },\n      set(value) {\n        this.$store.commit('loading', value);\n      }\n    },\n    filteredProducts: function(){\n      return this.userProducts.filter((userproduct) => {\n        return userproduct.title.match(this.search) || userproduct.price.match(this.search)\n      })\n    },\n    filterHiddenProduct: function(){\n      return this.filteredProducts.filter(function(product) {\n\t\t\t\t\treturn product.hidden < 1 || product.hidden == false;\n\t\t\t\t});\n    }\n    },\n    mounted() {\n        this.getUserPhone()\n        this.fetchLinks(this.name)\n    },\n     created() {\n        this.fetchData()\n       // console.log('name: '+ this.name)\n    },\n     watch: {\n    // call again the method if the route changes\n    getUserPhone(){\nthis.bizPhone = 'https://api.whatsapp.com/send?phone=234'+this.userDetails.phone_number\n    },\n    emptyLinks(val){\n      if(val == true){\n        return\n      }\n      return\n    }\n  },\n    methods: {\n    fetchData(){\n      //console.log('this user '+this.name)\n        this.$store.dispatch('loadUserProducts', this.name)\n        this.$store.dispatch('loadUserDetails', this.name)\n        this.$store.dispatch('loadDashboardLinks', this.name)\n        console.log('Name '+this.name)\n    },\n    getMerchant(){\n      return this.userBusiness\n    },\n    getMerchantInfo(){\n      return this.userDetails\n    },\n    getUserPhone(){\nthis.bizPhone = 'https://api.whatsapp.com/send?phone=234'+this.userDetails.phone_number\n    },\n    fetchLinks(val){\n      const linkURL = 'https://shop.mulaa.co/api/wp-json/mulaa-link/v1/links'\n        //return new Promise((resolve, reject) => {\n      \n      if (val != ''){\n        this.$http.get(`${linkURL}`+'?author='+val+'&skip_cache=1')\n        .then(resp => { \n          if(resp.data.length > 0){\n            const user_links = resp.data\n            //const authorID = resp.data.theAuthor\n            \n            console.log('links method: '+resp.data)\n          }else {\n            console.log('No links')\n            \n            return\n          }\n          return\n          //resolve(resp)\n        })\n        .catch(err => {\n          \n          console.log(err)\n          //reject(err)\n        })\n      }else {console.log('An error occured loading links data, try again later')}\n    //})\n    }\n    \n  }\n    \n}\n",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"User.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"userpage products fill-height grey lighten-4 pa-5 page\">\n      <v-sheet\n      id=\"scroll-area-2\"\n      class=\"overflow-y-auto\"\n     color=\"transparent\"\n    >\n        <v-container>\n                <div class=\"text-center\">\n                  \n              <v-avatar class=\"my-2\" size=\"80\">\n                <avatar :username=this.user \n                  :rounded=true\n                  :src=this.userDetails.brand_image\n                  :size=80\n                  background-color=\"#23d2aa\"\n                  ></avatar>\n                </v-avatar>\n                <p class=\"title black--text darken-2 font-weight-black\">\n                        {{name}}\n                    </p>\n                     <v-divider width=50% class=\"align-center d-block\" style=\"margin: 0 auto\"></v-divider>\n                     <p class=\"mt-2 mb-0 caption grey--text text--darken-3 font-weight-light\" style=\"max-width:550px;margin:0 auto\"> {{this.userDetails.business_description}}</p>\n                </div>\n                <!--<v-row justify=\"center\" class=\"mb-4\">\n                    <v-btn small \n                    rounded \n                    class=\"mt-3 grad-bg2\"\n                   :href=\"bizPhone\"\n                    >\n                        <v-icon left>mdi-whatsapp</v-icon>\n                       <span class=\"caption dark-body-text\"> chat</span> \n                        </v-btn> \n                </v-row> -->\n                <!--<v-row justify=\"center\" class=\"mb-4\">\n                    <v-btn\n                    small\n                    block\n                    text\n                    href=\"\"\n                    height=\"32\"\n                    class=\"grey--text darken-2 caption grad-bg2 mb-1\"\n                    >\n                         <span class=\"caption dark-body-text\">\n                             website\n                         </span>\n                        </v-btn>\n                </v-row>\n                -->\n\n                 <v-progress-linear\n                            :active=loading\n                            indeterminate\n                            color=\"green\"\n                            ></v-progress-linear> \n                            <div v-if=\"emptyStore\" class=\"mb-10\">\n                                 <v-img :src=\"require('../assets/unsuccessful.svg')\"></v-img>\n                  <span class=\"title text-center font-weight-light mb-2 pa-5 red\">\n                  This store in currently empty\n                  </span>\n                            </div>\n                <div v-else> \n\n                  <div v-if=\"!emptyLinks\" id=\"links\" \n                          class=\"mb-3 mt-2 pa-3 mx-auto\"\n                          style=\"border:3px dotted rgba(178, 223, 219, 0.3);background-color:rgba(178, 223, 219, 0.2);\n                          border-radius:4px;max-width:854px;\"\n                          >\n                         <!-- <v-progress-linear\n                            :active=loadinglist\n                            indeterminate\n                            color=\"green\"\n                            ></v-progress-linear>-->\n                          <v-card\n                          color=\"#000028\"\n                          dark\n                          class=\"mb-3\"\n                          \n                          v-for=\"link in userLinks.slice(0, 4)\" :key=\"link.linkID\"\n                          >\n                              <a :href=\"link.short_link\" target=\"_blank\" class=\"white--text noline\">\n                          <v-card-title\n                          class=\"mt-0 subtitle-1 py-2\"\n                          \n                          >\n                          <span class=\"d-block text-center\" style=\"width:100%;\">\n                            {{link.link_title}}\n                            </span>\n                          <v-spacer></v-spacer>\n                         \n                          </v-card-title>\n                          </a>\n                          </v-card>\n                  </div>\n\n        <v-layout row wrap pt-3 mt-3 class=\"layout-desktop mx-auto\" style=\"max-width:854px;\">\n                           \n                         \n                           <v-flex xs6 sm6 md4 lg4 v-for=\"product in filterHiddenProduct\" :key=\"product.productID\">\n           <transition name=\"slide-fade\" mode=\"out-in\">\n            \n            <v-card flat hover class=\"text-xs-center ma-2\" transition=\"slide-x-transition\">\n              <router-link\n              :to=\"{\n                   name: 'product',\n                   params: {\n                       id: product.productID,\n                       theproducts:product,\n                   }\n               }\"\n              >\n              <v-responsive class=\"pt-0\">\n                <v-img\n          :src=\"product.image\"\n          aspect-ratio=\"1.15\"\n         ></v-img>\n              </v-responsive>\n              </router-link>\n                 \n              <!--<v-card-text>\n                <div class=\"subheading text-truncate\">\n                  {{product.title.rendered}}\n                </div>\n                <div class=\"grey--text text-truncate\"> {{product.acf.description}}</div>\n              </v-card-text>-->\n              <v-card-actions>\n                  \n               <v-btn text color=\"#23d2aa\" \n               class=\"caption\"\n               :to=\"{\n                   name: 'product',\n                   params: {\n                       id: product.productID,\n                       theproducts:product,\n                   }\n               }\"\n                >\n                  <v-icon small left>mdi-cart</v-icon>\n                  Buy\n                </v-btn>\n                \n                <!--<Buy :theproducts=\"product\">\n\n                </Buy>-->\n               \n                <v-spacer></v-spacer>\n                <div class=\"grey--text text--darken-3 caption\"> â‚¦{{product.price}}</div>\n              </v-card-actions>\n              </v-card>\n              \n              </transition>\n              \n        </v-flex>\n       \n                       </v-layout>\n                        </div>\n        </v-container>\n        </v-sheet>\n       <v-row justify=\"center\" class=\"mb-10\"> \n           <p class=\"caption text--grey my-5\" style=\"margin: 0 auto\">\n             \npowered by <a href=\"https://mulaa.co/?utm_source=footer&utm_medium=userpage\" target=\"_blank\"><img :src=\"require('../assets/mulaalogo.png')\" alt=\"\" style=\"max-width:70px;margin-left:5px\">\n         </a>  </p>\n        \n       </v-row>\n\n       <v-bottom-navigation\n      scroll-target=\"#scroll-area-2\"\n      hide-on-scroll\n      scroll-threshold=\"50\"\n      fixed\n      color=\"#000028\"\n      horizontal\n    >\n      <v-btn\n      :href=\"bizPhone\"\n      >\n        <span>Chat</span>\n        <v-icon>mdi-whatsapp</v-icon>\n      </v-btn>\n\n      <v-btn>\n        <span>Email</span>\n        <v-icon>mdi-email-outline</v-icon>\n      </v-btn>\n\n      <v-btn\n      :href=\"instagram\"\n      >\n        <span>Instagram</span>\n        <v-icon>mdi-instagram</v-icon>\n      </v-btn>\n    </v-bottom-navigation>\n    </div>\n</template>\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport Buy from '@/components/BuyProduct'\nimport Avatar from 'vue-avatar'\nexport default {\n  metaInfo() {\n    let pageTitle = this.name\n    return {\n      title: pageTitle ? pageTitle : this.getMerchant,\n      titleTemplate: '%s - mulaa.co',\n      htmlAttrs: {\n        lang: 'en',\n        amp: true\n      },\n      \n      meta: [\n     {property: 'og:title', content: this.getMerchant},\n     {property: 'og:type', content: this.getMerchantInfo.business_name},\n     {property: 'og:url', content: this.pagePath},\n     {property: 'og:image', content: this.getMerchantInfo.brand_image},\n     {property: 'og:description', content: this.getMerchantInfo.business_description},\n      ]\n    }\n    },\n    components: {\n       Avatar\n       // Buy\n  },\n  props: ['name','theproducts']\n   /* props: {\n       name: {\n            type: String,\n            default: 'No User Found'\n        },\n\n    }*/,\n     data(){\n        return{\n          inputs: [\n            {\n                name: ''\n            }\n        ],\n            search:'',\n            overlay:false,\n            userdata: this.$route.params.name,\n            dialog: false,\n            rules: [v => v.length <= 50 || 'Max 50 characters'],\n            uploadMsg: '',\n            infoBar: false,\n            infoMsg: '', \n            products: '',\n            bizPhone: '',\n            merchantName : '',\n            instagram: 'https://instagram.com/',\n            pagePath: 'https://shop.mulaa.co'+ this.$route.path\n        }\n    },\n    computed: {\n        ...mapGetters([\n             'renderUser'\n           ]),\n      ...mapState({\n          emptyStore: 'emptyStore',\n      registerMsg:'registerMsg',\n      color:'color',\n      show:'show',\n      loading:'loading',\n      user:'user',\n      userDesc:'userDesc',\n      userKey:'userKey',\n      userBusiness:'userBusiness',\n      userPhone:'userPhone',\n      myproducts:'myproducts',\n      userProducts:'userProducts',\n      Discounted:'Discounted',\n      userUrl:'userUrl',\n      userImage:'userImage',\n      userDetails: 'userDetails',\n      userLinks: 'userLinks',\n      emptyLinks:'emptyLinks'\n      }),\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('snackbar', value);\n      }\n    },\n    loading: {\n      get() {\n        return this.$store.state.loading;\n      },\n      set(value) {\n        this.$store.commit('loading', value);\n      }\n    },\n    filteredProducts: function(){\n      return this.userProducts.filter((userproduct) => {\n        return userproduct.title.match(this.search) || userproduct.price.match(this.search)\n      })\n    },\n    filterHiddenProduct: function(){\n      return this.filteredProducts.filter(function(product) {\n\t\t\t\t\treturn product.hidden < 1 || product.hidden == false;\n\t\t\t\t});\n    }\n    },\n    mounted() {\n        this.getUserPhone()\n        this.fetchLinks(this.name)\n    },\n     created() {\n        this.fetchData()\n       // console.log('name: '+ this.name)\n    },\n     watch: {\n    // call again the method if the route changes\n    getUserPhone(){\nthis.bizPhone = 'https://api.whatsapp.com/send?phone=234'+this.userDetails.phone_number\n    },\n    emptyLinks(val){\n      if(val == true){\n        return\n      }\n      return\n    }\n  },\n    methods: {\n    fetchData(){\n      //console.log('this user '+this.name)\n        this.$store.dispatch('loadUserProducts', this.name)\n        this.$store.dispatch('loadUserDetails', this.name)\n        this.$store.dispatch('loadDashboardLinks', this.name)\n        console.log('Name '+this.name)\n    },\n    getMerchant(){\n      return this.userBusiness\n    },\n    getMerchantInfo(){\n      return this.userDetails\n    },\n    getUserPhone(){\nthis.bizPhone = 'https://api.whatsapp.com/send?phone=234'+this.userDetails.phone_number\n    },\n    fetchLinks(val){\n      const linkURL = 'https://shop.mulaa.co/api/wp-json/mulaa-link/v1/links'\n        //return new Promise((resolve, reject) => {\n      \n      if (val != ''){\n        this.$http.get(`${linkURL}`+'?author='+val+'&skip_cache=1')\n        .then(resp => { \n          if(resp.data.length > 0){\n            const user_links = resp.data\n            //const authorID = resp.data.theAuthor\n            \n            console.log('links method: '+resp.data)\n          }else {\n            console.log('No links')\n            \n            return\n          }\n          return\n          //resolve(resp)\n        })\n        .catch(err => {\n          \n          console.log(err)\n          //reject(err)\n        })\n      }else {console.log('An error occured loading links data, try again later')}\n    //})\n    }\n    \n  }\n    \n}\n</script>\n<style>\na.noline{\n  text-decoration: none;\n}\na.noline:hover{\n  color: #B2DFDB;\n}\n    .slide-fade-enter-active {\n  transition: all .3s ease;\n}\n.slide-fade-leave-active {\n  transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n}\n.slide-fade-enter, .slide-fade-leave-to\n/* .slide-fade-leave-active for <2.1.8 */ {\n  transform: translateX(10px);\n  opacity: 0;\n}\n/*\n.layout-desktop{\n  border-radius: 25px 25px 0 0;\n  background-color:#fff;\n  padding: 20px 5px 0px 5px !important;\n}\n*/\n</style>"]}]}