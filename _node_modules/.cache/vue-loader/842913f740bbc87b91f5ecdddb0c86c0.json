{"remainingRequest":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/samsonaligba/Sites/mulaa.co/src/components/AddProduct.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/samsonaligba/Sites/mulaa.co/src/components/AddProduct.vue","mtime":1571875625567},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samsonaligba/Sites/mulaa.co/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.headlineText{\n    color: #000028;\n}\n .img-inputer.img-inputer--light, .img-inputer.img-inputer--{\n    width:270px !important;\n    height:250px;\n    border: 1px solid #ffffff !important;\n}\n.img-inputer__preview-box.clear{\n    display: none !important;\n}\n",{"version":3,"sources":["AddProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddProduct.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-dialog v-model=\"dialog\" max-width=\"700px\" class=\"extra-round extra\" transition=\"slide-x-reverse-transition\">\n        <template v-slot:activator=\"{ on }\">\n            <v-responsive style=\"margin-top:-30px;\">\n\n                <div class=\"text-center my-5 pt-4 mb-3\">\n                                <v-sheet color=\"transparent\" class=\"caption\">Add a new product</v-sheet>\n                                <v-spacer></v-spacer>\n                                <v-btn class=\"mx-2 mt-2\" \n                                fab \n                                dark \n                                color=\"white--text\" \n                                v-on=\"on\"\n                                style=\"background-color:#000028\"\n                                >\n                                    <v-icon dark>mdi-plus</v-icon>\n                                </v-btn>\n                </div>\n\n            </v-responsive>\n        </template>\n\n <v-card \n     class=\"mx-auto teal lighten-5 mb-0\"\n            >\n             <v-snackbar v-model=infoBar :timeout=\"10000\" top right :color=\"color\" :value=infoMsg>\n  <span style=\"color:#fff\">{{infoMsg}}</span>\n</v-snackbar>\n\n <v-card-title>\n     <div class=\"headline font-weight-light headlineText\">\n         Create a <span v-if=\"!addlink\">product</span><span v-else>Link</span>\n         </div>\n  </v-card-title>\n   <div class=\"d-block px-7\">\n           <v-switch \n        v-model=\"addlink\" \n        label=\"Make a link\" \n        class=\"mt-0\"\n        color=\"#23d2aa\"\n        inset\n        >\n        </v-switch>\n        </div>\n         <p class=\"teal--text mb-5 px-7 caption\">\n                    Tap the image uploader to select a photo from your phone, enter the product name below\n                </p>\n<v-container class=\"white lighten-5 mb-0\">\n\n<div id=\"prodform\" v-if=\"!addlink\">\n  <v-form\n      ref=\"uploadForm\"\n    >\n    <v-row>\n        <v-col>\n             <v-card-text class=\"pt-0\">\n             <p class=\"mb-3 mt-2 overline\">upload product image</p>\n  <img-inputer accept=\"image/*\" \n            v-model=\"imageFile\"\n            icon=\"img\"\n            upload-key=\"product\" \n            auto-upload \n            theme=\"light\"\n            no-mask\n            :capture=false\n            action=\"https://shop.mulaa.co/imgapi/prod.php\" \n            :on-error=\"onErr\"\n            :on-success=\"onSuc\"\n            placeholder = \"Drop image here or tap to add one\"\n            bottom-text=\"Drop image here or tap to add one\"\n            @reset = \"reset\"\n            ref=\"imgUploader\"\n            />\n             </v-card-text>\n        </v-col>\n        \n        <v-col class=\"pt-0\">\n          \n\n            <v-card-text class=\"py-0\">\n                \n           <v-text-field\n           class=\"teal--text form-field mt-3\"\n            v-model=\"title\"\n            label=\"title\"\n            placeholder=\"product name\"\n            outlined\n            color=\"teal lighten-3\"\n            :rules=\"[nurules.required]\"\n          ></v-text-field>\n          <v-textarea\n          class=\"teal--text form-field my-0\"\n          v-model=\"description\"\n          outlined\n          label=\"Description\"\n        \n          color=\"teal lighten-3\"\n        ></v-textarea>\n\n        <v-row>\n            <v-col>\n<v-text-field\n           class=\"teal--text form-field ma-0\"\n            v-model=\"price\"\n            label=\"price\"\n            placeholder=\"base price\"\n            type=\"number\"\n            outlined\n            color=\"teal lighten-3\"\n            :rules=\"[nurules.required]\"\n          ></v-text-field>\n            </v-col>\n            <v-col>\n<v-text-field\n           class=\"teal--text form-field ma-0\"\n            v-model=\"discount\"\n            label=\"discount\"\n            type=\"number\"\n            placeholder=\"discount price\"\n            outlined\n            color=\"teal lighten-3\"\n          ></v-text-field>\n            </v-col>\n\n        </v-row>\n\n        <v-switch \n        v-model=\"discountEnable\" \n        label=\"Show Discount?\" \n        class=\"mt-0\"\n        color=\"#23d2aa\"\n        inset\n        >\n        </v-switch>\n            </v-card-text>\n           \n        </v-col>\n         \n    </v-row>\n\n  <v-expansion-panels popout>\n      <v-expansion-panel>\n        <v-expansion-panel-header class=\"caption grey--text\">Product Variations</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          \n<p class=\"caption grey--text lighten-1\">Add options if this product comes in multiple variations, like different sizes or colors.</p>\n<v-card\n    class=\"pa-1\"\n    outlined\n  >\n    <v-card-title class=\"overline teal--text\">Options ({{options.length}})</v-card-title>\n    <v-card-text>\n      <v-row>\n      <v-col class=\"pa-0\">\n          <div class=\"form-group\" v-for=\"(option,k) in options\" :key=\"k\">\n          <v-row class=\"teal lighten-5 mb-1\">\n            <v-col\n            cols=\"6\"\n        sm=\"6\"\n            >\n                <v-text-field\n                class=\"teal--text form-field ma-0\"\n                v-model=\"option.name\"\n                label=\"label\"\n                type=\"text\"\n                placeholder=\"item option\"\n                color=\"teal lighten-3\"\n                ></v-text-field>\n            </v-col>\n            <v-col\n            cols=\"4\"\n        sm=\"4\"\n            >\n                <v-text-field\n                class=\"teal--text form-field ma-0\"\n                v-model=\"option.price\"\n                label=\"price\"\n                type=\"number\"\n                placeholder=\"price\"\n                prefix=\"â‚¦\"\n                color=\"teal lighten-3\"\n                ></v-text-field>\n            </v-col>\n              <v-col\n            cols=\"2\"\n        sm=\"2\"\n            >\n<span>\n            <v-icon class=\"teal--text text--darken-1\" @click=\"remove(k)\" v-show=\"k || ( !k && options.length > 1)\">\n                                    mdi-minus-circle-outline\n                                    </v-icon> \n                                    <v-icon class=\"teal--text text--darken-1\" @click=\"add(k)\" v-show=\"k == options.length-1\">\n                                    mdi-plus-circle\n                                    </v-icon> \n          </span>\n              </v-col>\n          </v-row>\n          \n          </div>\n      </v-col>\n    </v-row>\n      </v-card-text>\n  </v-card>\n\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n  </v-expansion-panels>\n\n   </v-form>\n</div>\n<div id=\"linkform\" v-else>\n<v-form\n      ref=\"linkForm\"\n    >\n\n<v-tabs\n      v-model=\"tab\"\n     background-color=\"transparent\"\n     \n  color=\"teal lighten-2\"\n  class=\"mt-n3\"\n      icons-and-text\n    >\n      \n\n      <v-tab \n      href=\"#tab-1\"\n      class=\"font-weight-light\"\n      >\n        Url\n        <v-icon\n        class=\"teal--text\"\n        small\n        >mdi-link</v-icon>\n      </v-tab>\n\n      <v-tab \n      href=\"#tab-2\"\n      class=\"font-weight-light\"\n      >\n        Video\n        <v-icon\n        class=\"teal--text\"\n        small\n        >mdi-video</v-icon>\n      </v-tab>\n    </v-tabs>\n <v-tabs-slider></v-tabs-slider>\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item id=\"tab-1\"\n      >\n        <v-card flat>\n          <v-card-text>\n            \n<v-row>\n        <v-col>\n             <v-card-text class=\"pt-0\">\n             <p class=\"mb-3 mt-2 overline\">Create a content short link</p>\n\n<v-text-field\n           class=\"teal--text form-field ma-0\"\n            v-model=\"linkurl\"\n            label=\"content link\"\n            placeholder=\"Type or paste a link (URL)\"\n            type=\"text\"\n            outlined\n            color=\"teal lighten-3\"\n            :rules=\"[nurules.required, nurules.url]\"\n          ></v-text-field>\n          <v-text-field\n           class=\"teal--text form-field ma-0\"\n            v-model=\"linkdesc\"\n            label=\"Link Title\"\n            placeholder=\"Enter title for your link\"\n            type=\"text\"\n            outlined\n            color=\"teal lighten-3\"\n            :rules=\"[nurules.required]\"\n          ></v-text-field>\n\n<v-btn \n             large ripple\n             class=\"px-5 mb-5 text teal--text\" \n      color=\"#23d2aa\" \n            id=\"\"\n           @click=\"postLink\"\n          :loading=\"loading\">\n          <span class=\"caption px-5\">Save</span>\n          </v-btn>\n\n             </v-card-text>\n        </v-col>\n</v-row>\n            </v-card-text>\n        </v-card>\n      </v-tab-item>\n       <v-tab-item id=\"tab-2\"\n      >\n        <v-card flat>\n          <v-card-text>\n            Youtube video embed link, coming soon.\n          </v-card-text>\n        </v-card>\n      </v-tab-item>\n    </v-tabs-items>\n</v-form>\n</div>\n</v-container>\n<v-card-actions v-if=\"!addlink\" style=background-color:#000028>\n    <v-tooltip top>\n        <template v-slot:activator=\"{ on }\">\n            <v-btn text color=\"white\" @click=\"postProduct\" :disabled=disabled :loading=\"loading\" v-on=\"on\">\n              <v-icon right-3 color=\"teal lighten-3\" class=\"mr-2\">mdi-check</v-icon>\n             Save\n              </v-btn>\n               </template>\n      <span>Save this product</span>\n    </v-tooltip>\n               <v-btn text color=\"teal lighten-3\" @click=\"dialog = false\" v-if=\"infoBar = false\" class=\"caption\"> \n              <v-icon right-3 color=\"teal lighten-3\" small class=\"mr-2\">mdi-close-circle</v-icon>\n             Cancel\n              </v-btn>\n              <v-btn text color=\"teal lighten-3\" @click=\"dialog = false\" class=\"caption\" v-else>\n              <v-icon right-3 small color=\"teal lighten-3\" class=\"mr-2\">mdi-close-circle</v-icon>\n             Close\n              </v-btn>\n            </v-card-actions>\n </v-card>\n       \n    </v-dialog>\n</template>\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport axios from 'axios'\n//import EmojiPicker from 'vue-emoji-picker'\n\nexport default {\n    data(){\n        return{\n          tab: 'tab-1',\n          linkdesc:'',\n          linkurl:'',\n          addlink: false,\n          inset:'false',\n            title: '',\n            price: '',\n            discount: '',\n            discountEnable:'',\n            description: '',\n            deliveryLocations: '',\n            headers: {'Content-Type' : 'multipart/form-data'},\n            imageFile:'',\n            active: 0,\n            dialog: false,\n            loading: false,\n            rules: [v => v.length <= 50 || 'Max 50 characters'],\n            nurules: {\n          required: value => !!value || 'Required.',\n          min: v => v.length >= 6 || 'Min 6 characters',\n          price: v => v.length >= 4 || 'Min 1000',\n          url: v => /^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)+$/.test(v)|| 'Valid URL required'\n        },\n            imgUrl: '',\n            uploadMsg: '',\n            infoBar: false,\n        infoMsg: '', \n        color: '',\n        date: this.dateFunction(),\n        owner: this.$store.state.userId,\n        options: [\n          {\n            name:'',\n            price: ''\n          }\n        ]\n        }\n    },\n    methods: {\n      add(index) {\n            this.options.push({ name: '' });\n        },\n        remove(index) {\n            this.options.splice(index, 1);\n        },\n      dateFunction() {\n   \n            var currentDate = new Date();\n            console.log(currentDate);\n            var currentDateWithFormat = new Date().toJSON().slice(0,10).replace(/-/g,'/');\n            console.log(currentDateWithFormat);\n            return currentDateWithFormat\n        },\n        fetchData(){\n          //this.$store.dispatch('loadUserProducts', this.user)\n          this.$store.dispatch('loadDashboardProducts', this.user)\n          this.$store.dispatch('loadAllProducts', 'top')\n       // this.$store.dispatch('getUser', this.user)\n    },\n      resetForm () {\n        this.$refs.uploadForm.reset()\n       // this.$refs.linkForm.reset()\n        //this.$refs.imgUploader.placeholder = ''\n      },\n    reset(file, name) {\n      \n      console.log(\"File --> \", file);\n      console.log(\"FileName -->\", name);\n    },\n    fileChange(file, name) {\n      console.log(\"File --> \", file);\n      console.log(\"FileName -->\", name);\n    },\n    onErr(err, file) {\n      //console.log(\"â€‹onErr -> file\", file);\n      //console.log(\"â€‹onErr -> err\", err);\n    },\n     onSuc(res, file) {\n      //console.log(\"â€‹onSuc -> file\", file);\n      //console.log(\"â€‹onSuc -> res\", res);\n      this.imgUrl = res.url\n      this.uploadMsg = res.message\n      \n    },\n    exceedHandler(file) {\n      console.warn(\"onExceed -> file\", file);\n    },\n    postProduct:  function() {\n      //console.log(JSON.stringify(this.options))\n                this.loading = true;\n                this.$http.post('/product', {\n                title: this.title, // + '-' + this.user,\n                content: this.description,\n                fields : {\n                  title: this.title,\n                description: this.description,\n                price: this.price,\n                discount_price: this.discount,\n                show_discount: this.discountEnable,\n                delivery_locations: this.deliveryLocations,\n                image: this.imgUrl,\n                owner : this.owner,\n                date_posted: this.date,\n                product_options: JSON.stringify(this.options)\n\n                },\n                 status: \"publish\"\n                }).then((response) => {\n                this.loading = false;\n                //this.clear()\n                //this.loadProducts()\n                //console.log(response)\n                //this.$store.dispatch('loadAllProducts', 'top')\n                this.$store.dispatch('loadDashboardProducts', this.user)\n                this.color = 'green lighten-1'\n                this.infoBar = true\n              this.infoMsg = 'Product Successfully saved'\n              this.fetchData()\n            this.resetForm()\n            return\n            })\n            .catch((e) => {\n                this.loading = false;\n                console.error(e)\n                this.color = 'red darken-1'\n                this.infoBar = true\n              this.infoMsg = 'Error saving your product'\n              return\n                //this.infoBar = true\n              //this.infoMsg = 'profile update failed, try again later'\n            })\n  },\n  postLink:  function() {\n    this.loading = true;\n              axios.get('https://mulaa.me/u/api/?key=P1fjdH02F3y2&url='+this.linkurl)\n                .then(resp => {\n                  //console.log(resp.data)\n                  //this.fname = resp.data.data.account_name\n          console.log(resp.data.short)\n          //this.loading = false;\n          //this.$refs.linkForm.reset()\n          //this.resetForm()\n          \n           this.$http.post('/link', {\n                title: this.linkdesc, // + '-' + this.user,\n                content: this.linkdesc,\n                fields : {\n                  link_title: this.linkdesc,\n                long_link: this.linkurl,\n                short_link: resp.data.short\n                },\n                 status: \"publish\"\n                })\nthis.$refs.linkForm.reset()\n        })\n        .then(response => {\n                this.loading = false;\n                //this.clear()\n                //this.loadProducts()\n                //console.log(response.data.data)\n                //this.$router.push({name: 'dashboard', params: { sheet: false }})\n                this.color= 'green'\n                this.infoBar = true\n              this.infoMsg = 'Link successfully saved'\n            })\n        .catch((e) => {\n                console.error(e)\n                this.errors = \"Something went wrong, try again\"\n                this.loading = false;\n            })\n                \n               \n  }\n  },\n  computed: {\n      ...mapState({\n      registerMsg:'registerMsg',\n      user:'user'\n      }),\n     disabled() {\n       if (this.imageFile.length < 1 || this.title == ' '){\n         return true\n       }\n       return false\n        //return this.imageFile.length < 1; // or === 0   \n    },\n    /*dateFunction() {\n   \n            var currentDate = new Date();\n            console.log(currentDate);\n            var currentDateWithFormat = new Date().toJSON().slice(0,10).replace(/-/g,'/');\n            console.log(currentDateWithFormat);\n            return currentDateWithFormat\n     \n    }*/\n    } \n}\n</script>\n<style>\n    .headlineText{\n        color: #000028;\n    }\n     .img-inputer.img-inputer--light, .img-inputer.img-inputer--{\n        width:270px !important;\n        height:250px;\n        border: 1px solid #ffffff !important;\n    }\n    .img-inputer__preview-box.clear{\n        display: none !important;\n    }\n</style>"]}]}